type Build {
  id: ID!
  recipe: Recipe!
  buildName: String!
  createdAt: Date
  editedAt: Date
  createdBy: User
  createdById: String
  editedBy: User
  instructions: String
  notes: String
  glassware: String
  ice: String
  image: String
  permission: Permission
  touch: [Touch!]!
  version: Int
  archivedBuild: [ArchivedBuild]
}

# type BuildWithRecipeOptional {
#   id: ID!
#   recipe: Recipe
#   buildName: String!
#   createdAt: Date
#   editedAt: Date
#   createdBy: User
#   editedBy: User
#   instructions: String
#   notes: String
#   glassware: String
#   ice: String
#   permission: Permission
#   touch: [Touch!]
#   version: Int
#   archivedBuild: [ArchivedBuild]
# }

type ArchivedBuild {
  id: ID!
  buildId: String!
  buildName: String!
  createdAt: Date
  createdBy: User
  instructions: String
  notes: String
  glassware: String
  ice: String
  version: Int
  archivedTouch: [ArchivedTouch]
}

type BuildUser {
  user: User!
  build: Build!
  permission: Permission
}

type BuildUser {
  build: Build
  user: User
  permission: Permission
}

type UserBuildPermission {
  user: User!
  permission: String
}

type ArchiveResponse {
  build: Build
  archivedBuild: ArchivedBuild
}

type BuildPermissionResponse {
  buildUser: BuildUser
  status: StatusMessage
}

input CreateBuildInput {
  recipe: RecipeNameInput!
  buildName: String!
  instructions: String
  glassware: String
  ice: String
  image: String
  touchArray: [TouchInput]!
}

input RecipeNameInput {
  name: String!
}

input CreateFirstBuildInput {
  buildName: String!
  instructions: String
  glassware: String
  ice: String
  touchArray: [TouchInput]!
}

input UpdateBuildInput {
  recipe: RecipeNameInput!
  buildId: String!
  buildName: String
  instructions: String
  glassware: String
  ice: String
  image: String
  touchArray: [TouchInput]!
  permission: Permission
}

input ChangeBuildPermissionInput {
  userId: String
  buildId: String
  userPermission: Permission
  desiredPermission: Permission
}

type Query {
  findAllBuilds: [Build]
  findOneBuild: Build
  usersBuilds: [Build]
  findBuildUsers(buildId: String!): [BuildUser]
  findFolloweddUsersBuildPermission(buildId: String!): [UserBuildPermission]
}

type Mutation {
  createBuild(createBuildInput: CreateBuildInput): Build

  updateBuild(updateBuildInput: UpdateBuildInput): ArchiveResponse

  removeBuild(buildId: String, permission: Permission): Build

  changeBuildPermission(
    changeBuildPermissionInput: ChangeBuildPermissionInput
  ): BuildPermissionResponse

  deleteBuildPermission(
    changeBuildPermissionInput: ChangeBuildPermissionInput
  ): BuildPermissionResponse
}
